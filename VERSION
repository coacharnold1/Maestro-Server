MPD Web Control - Combined Edition (MULTI-DISC ALBUMS v1.7)
Export Date: Fri Dec 13 00:00:00 UTC 2025
Export Version: 20251213_000000_MULTI_DISC_V17
Features: 
- MPD Control
- Last.fm Integration  
- Search Functionality (FIXED - POST forms, proper redirects)
- Auto-fill Playlists with Radio Station Mode v3 (ENHANCED - large genre list support)
- Multi-Disc Album Support (NEW - nested disc display with individual add buttons)
- Album Art Display
- Real-time Updates
- Systemd Service Integration (FIXED - proper venv activation)
- Shuffle Mode (NEW - with cross-page sync)
- Standardized UI Controls (NEW - icons, color coding)
- Enhanced Toast Notifications (NEW - gradient styling with animations)
- Replace Playlist with Auto-play (NEW - browse albums)
- Genre-Based Random Music (NEW - integrated with Auto-Fill settings)
- Radio Station System (ENHANCED - auto-fill integration)
- Last.fm Charts (NEW - top artists/albums/tracks by time period)
- Theme System (NEW - dark/light/high-contrast across all pages)

Latest Major Features (Dec 13, 2025 - v1.7):
âœ… NEW: Multi-Disc Album Support - Single album entry with nested disc sections
âœ… SMART: Individual "Add Disc X" buttons for each disc in multi-disc albums
âœ… UI: Nested disc display in Recent Albums, Browse Albums, and Search Results
âœ… BACKEND: New extract_disc_number() and organize_album_by_disc() helper functions
âœ… ENHANCED: Album addition endpoint accepts optional disc_number parameter
âœ… METADATA: Automatic disc detection from 'disc' tags in music files
âœ… EXAMPLE: "Wish You Were Here 50" shows Disc 1, Disc 2, Disc 3 separately

Previous Major Features (Nov 30, 2025 - v3):
âœ… NEW: Large Genre List Support - handles 50+ genres without timeouts
âœ… ENHANCED: Batch processing with 15-genre batches and fresh MPD connections
âœ… SMART: Early stopping when 5x needed tracks found for performance
âœ… AUTO-ENABLE: Radio stations automatically enable auto-fill toggle
âœ… IMPROVED: Better error handling and connection stability

Previous Major Features (Nov 30, 2025 - v2):
âœ… NEW: Radio Station Auto-Fill Mode - preserves station genres during auto-fill
âœ… NEW: Enhanced Toast Notifications with gradients and smooth animations
âœ… ENHANCEMENT: Radio stations now enable auto-fill automatically when loaded
âœ… BACKEND: New perform_radio_station_auto_fill() function for genre-based track selection
âœ… INTEGRATION: Auto-fill monitor detects radio station mode and uses station genres
âœ… UI POLISH: Modern toast notifications with backdrop blur and elegant transitions
âœ… SMART AUTO-FILL: Radio station mode bypasses Last.fm, uses direct genre selection
âœ… CONFIGURATION: Example radio stations file with Rock Classics, Jazz Lounge, Electronic Mix

Previous Major Features (Nov 15, 2025):
âœ… NEW: Last.fm Charts page with time period filtering (7day â†’ all-time)
âœ… NEW: Complete theme system (dark, light, high-contrast) across all pages
âœ… INTEGRATION: Charts directly add artists/albums to playlist from stats
âœ… UI CONSISTENCY: Charts link added to footer on all pages
âœ… THEME FIX: Browse and Recent pages now honor theme selection
âœ… THEME FIX: Main page status box respects theme (no more static blue)
âœ… API: user.getTopArtists, user.getTopAlbums, user.getTopTracks endpoints
âœ… SMART DESIGN: Charts show playcount rankings with period selector

Technical Achievements (Dec 13, 2025 - v1.7):
- Implemented extract_disc_number() to parse disc metadata (handles "1", "1/2" formats)
- Created organize_album_by_disc() to group tracks by disc number
- Modified /add_album_to_playlist to accept optional disc_number parameter
- Updated /api/album_tracks to return disc_structure for multi-disc albums
- Enhanced recent_albums.html, browse_albums.html, search_results.html with nested disc UI
- Added displayMultiDiscTracks() JavaScript function for disc section rendering
- Integrated disc count badge (ðŸ’¿Ã—3) in album listings for multi-disc identification

Previous Technical Achievements (Nov 30, 2025 - v3):
- Enhanced perform_radio_station_auto_fill() with batch processing (15 genres per batch)
- Implemented fresh MPD connections per batch to prevent timeout errors
- Added smart early stopping at 5x needed tracks for performance optimization
- Improved auto-fill toggle behavior - only enables if not already checked
- Added comprehensive error handling for large genre list processing
- Better progress logging for debugging and monitoring

Previous Technical Achievements (Nov 30, 2025 - v2):
- Implemented Radio Station Auto-Fill with perform_radio_station_auto_fill() function
- Enhanced auto_fill_monitor() with radio station mode detection and routing
- Added automatic auto-fill enabling when radio stations are loaded
- Created enhanced toast notification system with CSS gradients and animations
- Updated socket emissions to include radio station mode information
- Added data/radio_stations.json with example configurations for immediate use
- Implemented backdrop blur effects and smooth cubic-bezier transitions for notifications

Previous Technical Achievements (Nov 15, 2025):
- Implemented Last.fm Charts API with period-based filtering
- Created unified theme system with minimal CSS overrides per page
- Added Charts page with ranked lists and add-to-playlist actions
- Extended footer navigation across all pages (version â€¢ Settings â€¢ Charts)
- Fixed theme inheritance on browse_genres, browse_artists, browse_albums, recent_albums
- Fixed status-box background color to respect light/high-contrast themes

System Status: FULLY OPERATIONAL with radio station auto-fill integration

Backup Snapshot (Nov 30, 2025):
- Archive: mpd_web_control_backup_20251130_204500_radio_auto_fill.tar.gz
- Features: Radio station auto-fill mode, enhanced toast notifications, auto-fill automation
- Locations: project/backups and user home directory
- Retention: kept two most recent per location (older archives pruned automatically)
