Maestro MPD Server v2.1
Release Date: Tue Dec 17 00:00:00 UTC 2025
Version: 2.1.0

ðŸŽµ FEATURE RELEASE - Enhanced Playlist & UI ðŸŽµ

Core Features:
- Web UI (port 5003) - Music playback control with modern interface
- Admin Panel (port 5004) - System administration and configuration
- MPD Integration - Music Player Daemon control and management
- Last.fm Integration - Scrobbling and charts
- Search Functionality - Artist, album, title search with album grouping
- Auto-fill Playlists - Radio station mode with genre-based selection
- Multi-Disc Album Support - Nested disc display with individual controls
- Album Art Display - Local files and Last.fm fallback
- Real-time Updates - WebSocket-based status updates
- Theme System - Dark, light, high-contrast, desert + 4 new themes
- Network Mount Support - NFS and SMB share management
- System Logs Viewer - Real-time monitoring of all services
- Playlist Management - Save/load M3U playlists with metadata
- Track Seeking - Clickable progress bar for precise playback control

Latest Features (Dec 17, 2025 - v2.1):
âœ… NEW: Playlist Save/Load - M3U format with metadata, list/delete operations
âœ… NEW: Track Reordering - Up/down arrow buttons to move songs in playlist
âœ… NEW: Clickable Seeking - Click progress bar to jump to any position in track
âœ… NEW: 4 New Themes - Terminal (retro green), Sunset (warm), Forest (green), Midnight (purple)
âœ… ENHANCED: Music Directory Standardization - /media/music/ with symlink support
âœ… IMPROVED: Installer - Handles existing /media/music with backup/symlink options
âœ… IMPROVED: Admin Panel - Enforces /media/music/ structure for all mounts
âœ… OPTIMIZED: Debug Log Cleanup - Removed noisy console floods for cleaner logs

Previous Major Features (Dec 16, 2025 - v2.0):
âœ… CRITICAL: Safe Installer - Preserves existing MPD config and database
âœ… CRITICAL: Data Loss Prevention - Auto-backup MPD database before changes
âœ… NEW: Arch Linux Support - Full compatibility with Arch/Manjaro
âœ… NEW: System Logs Viewer - Real-time monitoring with filtering/search
âœ… NEW: Admin Panel - Audio tweaks, library management, system control
âœ… FIXED: Album Art in Search - Groups by directory for multiple copies
âœ… FIXED: Recent Albums Directory - Now uses configured path from settings
âœ… ENHANCED: Network Mount Support - NFS/SMB with automatic detection
âœ… ENHANCED: Audio Device Management - Detection and configuration via Admin Panel
âœ… SECURITY: Removed dangerous chown on network mounts
âœ… UI: Clean navigation - Removed redundant buttons from main page

Previous Features (Dec 13, 2025 - v1.7):
âœ… NEW: Multi-Disc Album Support - Single album entry with nested disc sections
âœ… SMART: Individual "Add Disc X" buttons for each disc in multi-disc albums
âœ… UI: Nested disc display in Recent Albums, Browse Albums, and Search Results
âœ… BACKEND: New extract_disc_number() and organize_album_by_disc() helper functions
âœ… ENHANCED: Album addition endpoint accepts optional disc_number parameter
âœ… METADATA: Automatic disc detection from 'disc' tags in music files
âœ… EXAMPLE: "Wish You Were Here 50" shows Disc 1, Disc 2, Disc 3 separately

Previous Major Features (Nov 30, 2025 - v3):
âœ… NEW: Large Genre List Support - handles 50+ genres without timeouts
âœ… ENHANCED: Batch processing with 15-genre batches and fresh MPD connections
âœ… SMART: Early stopping when 5x needed tracks found for performance
âœ… AUTO-ENABLE: Radio stations automatically enable auto-fill toggle
âœ… IMPROVED: Better error handling and connection stability

Previous Major Features (Nov 30, 2025 - v2):
âœ… NEW: Radio Station Auto-Fill Mode - preserves station genres during auto-fill
âœ… NEW: Enhanced Toast Notifications with gradients and smooth animations
âœ… ENHANCEMENT: Radio stations now enable auto-fill automatically when loaded
âœ… BACKEND: New perform_radio_station_auto_fill() function for genre-based track selection
âœ… INTEGRATION: Auto-fill monitor detects radio station mode and uses station genres
âœ… UI POLISH: Modern toast notifications with backdrop blur and elegant transitions
âœ… SMART AUTO-FILL: Radio station mode bypasses Last.fm, uses direct genre selection
âœ… CONFIGURATION: Example radio stations file with Rock Classics, Jazz Lounge, Electronic Mix

Previous Major Features (Nov 15, 2025):
âœ… NEW: Last.fm Charts page with time period filtering (7day â†’ all-time)
âœ… NEW: Complete theme system (dark, light, high-contrast) across all pages
âœ… INTEGRATION: Charts directly add artists/albums to playlist from stats
âœ… UI CONSISTENCY: Charts link added to footer on all pages
âœ… THEME FIX: Browse and Recent pages now honor theme selection
âœ… THEME FIX: Main page status box respects theme (no more static blue)
âœ… API: user.getTopArtists, user.getTopAlbums, user.getTopTracks endpoints
âœ… SMART DESIGN: Charts show playcount rankings with period selector

Technical Achievements (Dec 13, 2025 - v1.7):
- Implemented extract_disc_number() to parse disc metadata (handles "1", "1/2" formats)
- Created organize_album_by_disc() to group tracks by disc number
- Modified /add_album_to_playlist to accept optional disc_number parameter
- Updated /api/album_tracks to return disc_structure for multi-disc albums
- Enhanced recent_albums.html, browse_albums.html, search_results.html with nested disc UI
- Added displayMultiDiscTracks() JavaScript function for disc section rendering
- Integrated disc count badge (ðŸ’¿Ã—3) in album listings for multi-disc identification

Previous Technical Achievements (Nov 30, 2025 - v3):
- Enhanced perform_radio_station_auto_fill() with batch processing (15 genres per batch)
- Implemented fresh MPD connections per batch to prevent timeout errors
- Added smart early stopping at 5x needed tracks for performance optimization
- Improved auto-fill toggle behavior - only enables if not already checked
- Added comprehensive error handling for large genre list processing
- Better progress logging for debugging and monitoring

Previous Technical Achievements (Nov 30, 2025 - v2):
- Implemented Radio Station Auto-Fill with perform_radio_station_auto_fill() function
- Enhanced auto_fill_monitor() with radio station mode detection and routing
- Added automatic auto-fill enabling when radio stations are loaded
- Created enhanced toast notification system with CSS gradients and animations
- Updated socket emissions to include radio station mode information
- Added data/radio_stations.json with example configurations for immediate use
- Implemented backdrop blur effects and smooth cubic-bezier transitions for notifications

Previous Technical Achievements (Nov 15, 2025):
- Implemented Last.fm Charts API with period-based filtering
- Created unified theme system with minimal CSS overrides per page
- Added Charts page with ranked lists and add-to-playlist actions
- Extended footer navigation across all pages (version â€¢ Settings â€¢ Charts)
- Fixed theme inheritance on browse_genres, browse_artists, browse_albums, recent_albums
- Fixed status-box background color to respect light/high-contrast themes

System Status: FULLY OPERATIONAL with radio station auto-fill integration

Backup Snapshot (Nov 30, 2025):
- Archive: mpd_web_control_backup_20251130_204500_radio_auto_fill.tar.gz
- Features: Radio station auto-fill mode, enhanced toast notifications, auto-fill automation
- Locations: project/backups and user home directory
- Retention: kept two most recent per location (older archives pruned automatically)
